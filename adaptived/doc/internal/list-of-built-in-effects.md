## List of Built-In Effects

Parameters that accept long long or float also support some human-readable formats.  See [human-readable formats](human-readable.md)

| Effect | Action | Schema | Examples | Notes |
| ------ | ------ | ------ | -------- | ----- |
| [cgroup_memory_setting](../../src/effects/cgroup_setting.c) | Write to a cgroup memory setting file, e.g. memory.max, memory.high, etc. | <ul><li>"pre_set_from" (string) - full path to a cgroup memory setting file to load the cgroup memory setting file from before performing the "operator" action on it (this avoids having to precede "cgroup_memory_setting" with a "copy_cgroup_setting")</li><li>"setting" (string) - full path to the cgroup memory setting</li><li>"value" (string, long long, or double) - value to write to the setting file.  If the operator is set to add or subtract, this value will be added/subtracted from the current value of setting</li><li>"operator" (string) - add, subtract, or set (if existing value is "max", no operation is performed)</li><li>"limit" (string, long long, or double - optional) - if provided, this effect will use the value as an upper or lower limit when the operator is set to add or subtract, respectfully</li><li>"validate" (boolean - optional) - if true, cgroup_memory_setting will read from the cgroup file to ensure the value was properly set</li></ul> | [ftest 045](../../tests/ftests/045-effect-cgroup_memory_setting_set_add_int.json)<br />[ftest 045](../../tests/ftests/045-effect-cgroup_memory_setting_add_int_max.json)<br />[ftest 046](../../tests/ftests/046-effect-cgroup_memory_setting_set_sub_int.json)<br />[ftest 046](../../tests/ftests/046-effect-cgroup_memory_setting_sub_int_max.json)<br />[ftest 047](../../tests/ftests/047-effect-cgroup_memory_pre_set_add_int.json) | | 
| [cgroup_setting](../../src/effects/cgroup_setting.c) | Write to a cgroup setting file | <ul><li>"setting" (string) - full path to the cgroup setting</li><li>"value" (string, long long, or double) - value to write to the setting file.  If the operator is set to add or subtract, this value will be added/subtracted from the current value of setting</li><li>"operator" (string) - add, subtract, or set</li><li>"limit" (string, long long, or double - optional) - if provided, this effect will use the value as an upper or lower limit when the operator is set to add or subtract, respectfully</li><li>"validate" (boolean - optional) - if true, cgroup_setting will read from the cgroup file to ensure the value was properly set</li></ul> | [ftest 018](../../tests/ftests/018-effect-cgroup_setting_set_str.c)<br />[ftest 019](../../tests/ftests/019-effect-cgroup_setting_set_int.json)<br />[ftest 020](../../tests/ftests/020-effect-cgroup_setting_add_int.json)<br />[ftest 021](../../tests/ftests/021-effect-cgroup_setting_sub_int.json) | |
| [cgroup_setting_by_psi](../../src/effects/cgroup_setting_by_psi.c) | Walk a cgroup tree, and change the specified cgroup setting in the cgroup with the highest PSI utilization | <ul><li>"cgroup" (string) - full path to the cgroup hierarchy.  See [path rules](path-rules.md) for more details.  Use the "\*" wildcard to ensure the tree is walked.</li><li>"type" (string) - which PSI type to evaluate, "cpu", "memory", or "io"</li><li>"measurement" (string) - which measurement to compare, e.g. some-avg10, full-avg60, etc.  some-total and full-total are not supported</li><li>"pressure_operator" (string) - comparison operation for the PSI value, currently supports "greaterthan" or "lessthan"</li><li>setting (string) - cgroup setting to be modified</li><li>value (several types supported) - value to added, subtracted, or explicitly set in the cgroup setting</li><li>"setting_operator" (string) - set, add or subtract</li><li>"limit" (several types supported - optional) - if the cgroup operator is add or subtract, a limit can be specified to bound the max or min of the setting, respectively</li><li>"max_depth" (int - optional) - maximum depth to traverse in the cgroup hierarchy.  Default - unlimited</li><li>"validate" (boolean - optional) - if true, the desired value will be written to the cgroup setting.  The contents of the setting will then be read and compared with the written value.  If the comparison fails, -EFAULT is returned</li></ul> | [ftest 025](../../tests/ftests/025-effect-cgroup_setting_by_psi_1.json)<br />[ftest 026](../../tests/ftests/026-effect-cgroup_setting_by_psi_2.json)<br />[ftest 027](../tests/ftests/027-effect-cgroup_setting_by_psi_3.json) | [Cgroup Setting By PSI Use Case](cgroup_setting_by_psi.md) |
| [copy_cgroup_setting](../../src/effects/copy_cgroup_setting.c) | Copy the contents from one cgroup file to another | <ul><li>"from_setting" (string) - full path to the cgroup "from" source file.</li><li>"to_setting" (string) - full path to the cgroup "to" destination file.</li><li>"dont_copy_if_zero" (boolean - optional) - if true, do not attempt the copy if the "from" source setting is zero.</li><li>"validate" (boolean - optional) - if true, cgroup_setting will read from the "to_setting" cgroup file to ensure the value was properly set</li></ul> | [ftest 028](../../tests/ftests/028-effect-copy_cgroup_setting.json) |  |
| [kill_cgroup](../../src/effects/kill_cgroup.c) | Kill processes in a cgroup (and optionally its children) | <ul><li>"cgroup" (string) - full path to the cgroup to be killed.  See [path rules](path-rules.md) for more details</li><li>"signal" (int - optional) - signal to send to the processes being killed.  Default - SIGKILL</li><li>"count" (int - optional) - number of processes to kill in each cgroup.  Default - all</li><li>"max_depth" (int - optional) - maximum depth to traverse in the cgroup hierarchy.  Default - unlimited</li></ul> | [ftest 023](../../tests/ftests/023-effect-kill_cgroup_recursive.json) | |
| [kill_cgroup_by_psi](../../src/effects/kill_cgroup_by_psi.c) | Walk a cgroup tree, and kill the processes in the cgroup with the highest PSI utilization | <ul><li>"cgroup" (string) - full path to the cgroup to be killed.  See [path rules](path-rules.md) for more details.  Use the "\*" wildcard to ensure the tree is walked.</li><li>"type" (string) - which PSI type to evaluate, "cpu", "memory", or "io"</li><li>"measurement" (string) - which measurement to compare, e.g. some-avg10, full-avg60, etc.  some-total and full-total are not supported</li><li>"signal" (int - optional) - signal to send to the processes being killed.  Default - SIGKILL</li><li>"max_depth" (int - optional) - maximum depth to traverse in the cgroup hierarchy.  Default - unlimited</li></ul> | [ftest 024](../../tests/ftests/024-effect-kill_cgroup_by_psi.json) | |
| [kill_processes](../../src/effects/kill_processes.c) | Kill processes that match the specified process name(s) | <ul><li>"proc_names" (array)<ul><li>"name" (string) - process name (as found in /proc/{pid}/stat)</li></ul></li><li>"signal" (int - optional) - signal to send to the processes being killed.  Currently only supports integers. Default - 9 (i.e. SIGKILL)</li><li>"count" (int - optional) - number of processes to kill each time this cause is run.  If specified, the processes consuming the most memory will be killed first.  Default - all matching processes</li><li>"field" (string - optional) - field in /proc/pid/stat to sort on.  Currently supports "vsize" or "rss".  Default - "rss".</li></ul> | [ftest 067](../../tests/ftests/067-effect-kill_processes.json)<br />[ftest 068](../../tests/ftests/068-effect-kill_processes_rss.json) | |
| [logger](../../src/effects/logger.c) | Given an array of files, write their contents to "logfile" | <ul><li>"logfile" (string) - Output file to store the log data</li><li>"max_file_size" (int - optional) - Maximum amount of data that will be copied from each source file.  Defaults to 32kB if not specified</li><li>"files" (array)<ul><li>"file" (string) - file to copy</li></ul></li><li>"separator_prefix" (string - optional) - If specified, this string will be written each time this effect triggers</li><li>"date_format" (string - optional) - If specified, the date will be written in the specified format each time the effect triggers</li><li>"utc" (boolean - optional) - If specified, the date will be recorded in UTC time.  Otherwise, the machine's localtime() will be used</li><li>"separator_postfix" (string - optional) - If specified, this string will be written each time this effect triggers</li><li>"file_separator" (string - optional) -If specified, this string will be written between each file being logged</li></ul> | [ftest 043](../../tests/ftests/043-effect-logger-no-separators.json)<br />[ftest 044](../../tests/ftests/044-effect-logger-date-format.json) | |
| [print](../../src/effects/print.c) | Print a message to a file | <ul><li>"message" (string - optional) - message to output</li><li>"file" (string) - file to write to.  Currently only supports "stdout" or "stderr"</li></ul> | [Jimmy Buffett Example](../examples/jimmy-buffett-config.json) | |
| [print_schedstat](../../src/effects/print_schedstat.c) | Print schedstat to a file | <ul><li>"file" (string) - file to write to.  Currently only supports "stdout" or "stderr"</li></ul> | [ftest 054](../../tests/ftests/054-effect-print_schedstat.json) | |
| [setting](../../src/effects/cgroup_setting.c) | Write to a setting file | <ul><li>"setting" (string) - full path to the setting</li><li>"value" (string, long long, or double) - value to write to the setting file.  If the operator is set to add or subtract, this value will be added/subtracted from the current value of setting</li><li>"operator" (string) - add, subtract, or set</li><li>"limit" (string, long long, or double - optional) - if provided, this effect will use the value as an upper or lower limit when the operator is set to add or subtract, respectfully</li><li>"validate" (boolean - optional) - if true, the setting effect will read from the setting file to ensure the value was properly set</li></ul> | [ftest 055](../../tests/ftests/055-effect-setting_set_int.json)<br />[ftest 056](../../tests/ftests/056-effect-setting_add_int.json)<br />[ftest 057](../../tests/ftests/057-effect-setting_sub_int.json) | Shares a code base with the cgroup effect code |
| [signal](../../src/effects/kill_processes.c) | Send a signal to the process(es) that match the user-specified process name(s) | <ul><li>"proc_names" (array)<ul><li>"name" (string) - process name (as found in /proc/{pid}/stat)</li></ul></li><li>"signal" (int - optional) - signal to send to the processes being killed. Curently only supports integers. Default - 10 (i.e. SIGUSR1)</li></ul> | [ftest_069](../../tests/ftests/069-effect-signal.json) | |
| [snooze](../../src/effects/snooze.c) | Once the cause(s) in a rule have triggered, snooze (i.e. ignore any more triggers) for a specified duration | <ul><li>"duration" (int) - how long to ignore triggers, in interval milliseconds</li></ul> | [ftest 010](../../tests/ftests/010-snooze_effect.json) | |
| [validate](../../src/effects/validate.c) | Primarily used for testing.  Will return a specified return value, forcing the main adaptived loop to exit | <ul><li>"return_value" (int)</li></ul> | [ftest 009](../../tests/ftests/009-cause-pressure_below.json) | |
